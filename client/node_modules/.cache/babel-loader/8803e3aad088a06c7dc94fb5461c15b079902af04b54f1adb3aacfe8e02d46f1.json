{"ast":null,"code":"import _regeneratorRuntime from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,Fragment}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Students=function Students(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];var deleteStudent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var deleteTodo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:1000/student/\".concat(id),{method:'DELETE'});case 3:deleteTodo=_context.sent;setStudents(students.filter(function(student){return student.student_id!==id;}));_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function deleteStudent(_x){return _ref.apply(this,arguments);};}();var getStudents=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:1000/student\");case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setStudents(data);_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0.message);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return function getStudents(){return _ref2.apply(this,arguments);};}();useEffect(function(){getStudents();},[]);return/*#__PURE__*/_jsx(Fragment,{children:students.length>0?/*#__PURE__*/_jsxs(\"table\",{border:\"1\",className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Student Number\"}),/*#__PURE__*/_jsx(\"td\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"GPA\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:students.map(function(student){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:student.student_id}),/*#__PURE__*/_jsx(\"td\",{children:student.first_name}),/*#__PURE__*/_jsx(\"td\",{children:student.last_name}),/*#__PURE__*/_jsx(\"td\",{children:student.gpa}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return deleteStudent(student.student_id);},children:\"Delete Student\"})})]},student.student_id);})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"There are no any students to see!\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Fill in the form to register a student\"})]})});};export default Students;","map":{"version":3,"names":["React","useState","useEffect","Fragment","jsx","_jsx","jsxs","_jsxs","_Fragment","Students","_useState","_useState2","_slicedToArray","students","setStudents","deleteStudent","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","deleteTodo","wrap","_callee$","_context","prev","next","fetch","concat","method","sent","filter","student","student_id","t0","console","error","message","stop","_x","apply","arguments","getStudents","_ref2","_callee2","response","data","_callee2$","_context2","json","children","length","border","className","map","first_name","last_name","gpa","onClick"],"sources":["/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/src/components/Students.jsx"],"sourcesContent":["import React, {useState, useEffect, Fragment} from 'react'\n\nconst Students = () => {\n\n  const [students, setStudents] = useState([]);\n\n\n\n  const deleteStudent = async id => {\n      try {\n        const deleteTodo = await fetch(`http://localhost:1000/student/${id}`, {\n          method: 'DELETE'\n        });\n\n      setStudents(students.filter(student => student.student_id !== id));\n      } catch (err) {\n        console.error(err.message);\n      }\n  }\n\n\n\n  const getStudents = async () => {\n    try {\n      const response = await fetch(\"http://localhost:1000/student\");\n      const data = await response.json();\n\n      \n      setStudents(data);\n      \n      \n      \n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getStudents();\n  }, []);\n  \n  \n\n\n  return (\n    <Fragment>\n\n\n      {students.length > 0 ? (<table border=\"1\" className='table'> \n      <thead>\n      <tr>\n        <td>Student Number</td>\n        <td>First Name</td>\n        <td>Last Name</td>\n        <td>GPA</td>\n      </tr>\n      </thead>\n      <tbody>\n        {\n          students.map((student) => (\n            \n            <tr key={student.student_id}>\n              <td>{student.student_id}</td>\n              <td>{student.first_name}</td>\n              <td>{student.last_name}</td>\n              <td>{student.gpa}</td>\n              <td>\n              <button className='button' onClick={() => deleteStudent(student.student_id)}>Delete Student</button>\n\n              </td>\n            </tr>\n            \n          ))\n        }\n        </tbody>\n      \n      \n      </table>)  : (<><h1 className='title'>There are no any students to see!</h1> \n                  <h2 className='title'>Fill in the form to register a student</h2>\n                  </>\n      )\n      }\n    \n\n\n    </Fragment>\n  )\n}\n\nexport default Students"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}