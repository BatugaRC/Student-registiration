{"ast":null,"code":"import _regeneratorRuntime from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Form=function Form(){var _useState=useState({first_name:\"\",last_name:\"\",gpa:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var onChangeForm=function onChangeForm(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},_defineProperty({},name,value));});};var onSubmitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(e.target.first_name.value);_context.prev=2;_context.next=5;return fetch(\"http://localhost:1000/student\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(form)});case 5:response=_context.sent;if(response.ok){window.location=\"/student\";}else{console.error(\"Failed to add student\");}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function onSubmitForm(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitForm,className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"First name\",name:\"first_name\",onChange:onChangeForm}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Last name\",name:\"last_name\",onChange:onChangeForm}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"GPA\",name:\"gpa\",onChange:onChangeForm}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add Student\"})]})});};export default Form;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Form","_useState","first_name","last_name","gpa","_useState2","_slicedToArray","form","setForm","onChangeForm","e","_e$target","target","name","value","prevForm","_objectSpread","_defineProperty","onSubmitForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","sent","ok","window","location","error","t0","message","stop","_x","apply","arguments","children","onSubmit","className","type","placeholder","onChange"],"sources":["/Users/batuhangoktas/Desktop/JavaScript/PERN Stack/Student/client/src/components/Form.jsx"],"sourcesContent":["import React, {useState} from 'react'\n\n\nconst Form = () => {\n\n  const [form, setForm] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    gpa: \"\",\n  })\n\n  \n\n\n  const onChangeForm = (e) => {\n    const {name, value} = e.target\n    setForm(prevForm => {\n      return {\n        ...prevForm,\n        [name]: value\n      }\n    }\n      )\n  }\n\n\n\n  const onSubmitForm = async (e) => {\n    e.preventDefault();\n\n    console.log(e.target.first_name.value)\n\n\n      \n      try {\n        const response = await fetch(\"http://localhost:1000/student\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(form)\n        });\n    \n        if (response.ok) {\n          window.location = \"/student\";\n        } else {\n          console.error(\"Failed to add student\");\n        }\n      } catch (err) {\n        console.error(err.message);\n    }\n  }\n  \n\n    \n\n  return (\n    <>\n    <form onSubmit={onSubmitForm} className=\"form\">\n    <input type=\"text\" placeholder='First name' name='first_name' onChange={onChangeForm} />\n    <input type=\"text\" placeholder='Last name' name='last_name' onChange={onChangeForm}  />\n    <input type=\"number\" placeholder=\"GPA\" name=\"gpa\" onChange={onChangeForm} />\n    <input type=\"submit\" value='Add Student' />\n    </form>\n    </>\n  )\n}\n\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}